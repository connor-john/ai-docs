![alt text](assets/image.png)

yikes

> [!IMPORTANT]
> The below docs are generated by claude and serve as a benchmark for the capabilities.

# Claude Documentation

## Introduction

Claude is a Python project that utilizes the Anthropic API to generate technical documentation for code repositories. The project reads a code repository, extracts relevant code files, and sends them to the Anthropic API for generating comprehensive documentation. The generated documentation provides an overview of the codebase, setup instructions, and detailed insights into the project's architecture and components.

## Codebase Overview

The Claude project follows a modular architecture, separating concerns into distinct files:

- `api.py`: Contains the core functionality for interacting with the Anthropic API, including sending requests and handling responses.
- `extract_repo.py`: Implements the logic for extracting relevant code files from a local repository directory.
- `generate_docs.py`: Orchestrates the process of generating documentation by combining the functionality of `api.py` and `extract_repo.py`.

The project utilizes the `anthropic` library for communication with the Anthropic API and the `transformers` library for token counting using the GPT-2 tokenizer.

## Development Environment Setup

To set up the development environment for Claude, follow these steps:

1. Ensure you have Python 3.9 or higher installed on your system.
2. Clone the Claude repository from the provided source.
3. Navigate to the project directory.
4. Install the required dependencies using Poetry:
   ```
   poetry install
   ```
5. Obtain an Anthropic API key and set it as an environment variable named `ANTHROPIC_API_KEY`.
6. You're ready to start developing and running Claude!

## Code Repository Structure

The Claude project has the following structure:

```
claude/
├── claude/
│   ├── __init__.py
│   ├── api.py
│   ├── extract_repo.py
│   └── generate_docs.py
├── pyproject.toml
└── README.md
```

- The `claude` directory contains the main Python package.
- `api.py` handles the interaction with the Anthropic API.
- `extract_repo.py` extracts relevant code files from a local repository.
- `generate_docs.py` orchestrates the documentation generation process.
- `pyproject.toml` defines the project dependencies and build configuration using Poetry.
- `README.md` provides an overview of the project.

## Key Points of Complexity

1. Extracting relevant code files:

   - The `extract_local_directory` function in `extract_repo.py` walks through a local directory and identifies relevant code files based on file extensions and specific file names.
   - It applies various filters to exclude unnecessary files and directories, such as tests, hidden directories, and files with insufficient content.
   - The extracted code files are written to a single text file for further processing.

2. Interacting with the Anthropic API:

   - The `request_message` function in `api.py` sends a request to the Anthropic API with the provided system prompt and messages.
   - It utilizes the `anthropic` library to create a message and retrieve the response from the API.
   - The response content is extracted and returned for further processing.

3. Generating documentation:
   - The `generate_docs_from_local_repo` function in `generate_docs.py` orchestrates the documentation generation process.
   - It extracts the code files from the local repository using `extract_local_directory`.
   - The extracted code content is combined with the system prompt and sent to the Anthropic API using `request_message`.
   - The generated documentation is saved to a Markdown file.
   - An option to further refine the documentation is provided, which sends an additional request to the API with a follow-up prompt.

## Installation and Setup

To install and set up Claude, follow these steps:

1. Ensure you have Python 3.9 or higher installed on your system.
2. Clone the Claude repository from the provided source:
   ```
   git clone <repository-url>
   ```
3. Navigate to the project directory:
   ```
   cd claude
   ```
4. Install the required dependencies using Poetry:
   ```
   poetry install
   ```
5. Obtain an Anthropic API key and set it as an environment variable named `ANTHROPIC_API_KEY`:
   ```
   export ANTHROPIC_API_KEY=<your-api-key>
   ```
   Alternatively, you can create a `.env` file in the project root and add the following line:
   ```
   ANTHROPIC_API_KEY=<your-api-key>
   ```
6. You're ready to use Claude!

## Getting Started

To generate documentation for a code repository using Claude, follow these steps:

1. Prepare your local code repository directory.
2. Run the `generate_docs.py` script, providing the path to your local repository directory as a command-line argument:
   ```
   python claude/generate_docs.py <local-repository-directory>
   ```
3. Claude will extract the relevant code files, send them to the Anthropic API for documentation generation, and save the generated documentation to a Markdown file.
4. Review the generated documentation file and optionally choose to further refine it by following the prompts.
5. The final documentation will be saved to a separate Markdown file.

Congratulations! You have successfully generated technical documentation for your code repository using Claude.
